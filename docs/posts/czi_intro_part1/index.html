<!DOCTYPE html>

<html lang="en-us">
    <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="format-detection" content="telephone=no"/>

    <title>Eisen Lab Coding Club</title>
    
    <link rel="apple-touch-icon" sizes="180x180" href="/coding_site/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/coding_site/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/coding_site/favicon-16x16.png">
    <link rel="manifest" href="/coding_site/manifest.json">
    <link rel="mask-icon" href="/coding_site/safari-pinned-tab.svg" color="#FF3DB4">
    <meta name="theme-color" content="#ffffff">

    
    
    

     
    

    <link rel="stylesheet" href="https://meisenlab.github.io/coding_site/css/main.min.03322cbe6bddfc28e7b17b84bc5446282a510b14b57be3371ba1f68ef1ab9ce8.css"/>

    
    
    

    
    
 
    
    
</head>
    <body>
        
<nav>
  <header>
    <div class="site-title">
        <a href="/coding_site/">Eisen Lab Coding Club</a>
    </div>  
</header>
  <div class="nav-menu">
  
    <a class="color-link nav-link" href="/coding_site/about/">About</a>
  
    <a class="color-link nav-link" href="/coding_site/tags/">Tags</a>
  
  <a class="color-link nav-link" href="https://meisenlab.github.io/coding_site/index.xml" target="_blank" rel="noopener" type="application/rss+xml">RSS</a>
</div>
<footer class="footer">
	<div class="social-icons">
        

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
    
    
    <a class="social-icon" href="https://github.com/meisenlab" target="_blank" rel="noopener" title="GitHub">
        <svg width="28px" height="28px" viewBox="0 0 28 28" version="1.1" fill="#ABABAB" xmlns="https://www.w3.org/2000/svg" xmlns:xlink="https://www.w3.org/1999/xlink">
            <path d="M13.9988029,1.32087331 C6.82105037,1.32087331 1,7.14112562 1,14.3212723 C1,20.0649109 4.72454649,24.9370678 9.89038951,26.6560892 C10.5408085,26.7757983 10.7778323,26.374374 10.7778323,26.0296121 C10.7778323,25.7215609 10.7666595,24.9035493 10.760275,23.8189856 C7.14426471,24.6042767 6.38131925,22.0760223 6.38131925,22.0760223 C5.78995672,20.5740732 4.93762853,20.1742451 4.93762853,20.1742451 C3.75729765,19.3682044 5.02701126,19.3841656 5.02701126,19.3841656 C6.33183953,19.4759425 7.01817121,20.7241085 7.01817121,20.7241085 C8.17775254,22.7104801 10.0611744,22.1366749 10.8017741,21.8038838 C10.919887,20.9643246 11.2558703,20.3913175 11.6269683,20.066507 C8.74038491,19.7385043 5.70536235,18.6228163 5.70536235,13.6413251 C5.70536235,12.2223743 6.21213051,11.0611968 7.04370914,10.1530044 C6.90963504,9.82420367 6.46351945,8.50181809 7.17139875,6.71256734 C7.17139875,6.71256734 8.26234691,6.36301702 10.7459099,8.04532771 C11.78259,7.75642995 12.8950858,7.61277914 14.000399,7.60719272 C15.1049142,7.61277914 16.2166119,7.75642995 17.2548881,8.04532771 C19.736855,6.36301702 20.8262071,6.71256734 20.8262071,6.71256734 C21.5356825,8.50181809 21.0895669,9.82420367 20.9562909,10.1530044 C21.7894656,11.0611968 22.2922435,12.2223743 22.2922435,13.6413251 C22.2922435,18.6355852 19.2524325,19.734514 16.3570705,20.0561322 C16.8231376,20.4575564 17.2389269,21.2508282 17.2389269,22.4638795 C17.2389269,24.2012564 17.2229657,25.603448 17.2229657,26.0296121 C17.2229657,26.3775663 17.4575954,26.7821827 18.116793,26.6552912 C23.2786458,24.9322794 27,20.0633148 27,14.3212723 C27,7.14112562 21.1789496,1.32087331 13.9988029,1.32087331"></path>
        </svg>
    </a>
    

    
    
    

    

    

    

    

</div>




	

 	<p><a href="https://docs.google.com/document/d/1u2jMBv_y0qQn_dsMklL_fvKJFSVYopRezz7LnGqp6nc/edit?usp=sharing" target="_blank" rel="noopener">Google Doc Notes</a></p>
 	

	<script src="https://meisenlab.github.io/coding_site/js/main.min.fa5c2b23e07b5d9bfad267a52b4b24fdb053e6fb7524993383594926a3ac270c.js" integrity="sha256-+lwrI+B7XZv60melK0sk/bBT5vt1JJkzg1lJJqOsJww="></script>
</footer>
</nav>
        <div id="content" class="content-container">
        
<h1 class="post-title">Intro to CZI files Part 1</h1>
    
    <time>March 22, 2020</time>
    
    <div>
        <p>
        
<p>This post explores how to set up your enviroment for doing confocal image analyis in Python.</p>

<!DOCTYPE html>
<html>
<head><meta charset="utf-8" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.1.10/require.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>



<!-- Custom stylesheet, it must be in the same directory as the html file -->
<link rel="stylesheet" href="custom.css">

<!-- Loading mathjax macro -->
<!-- Load mathjax -->
    <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML"></script>
    <!-- MathJax configuration -->
    <script type="text/x-mathjax-config">

    </script>
    <!-- End of mathjax configuration --></head>
<body>
  <div tabindex="-1" id="notebook" class="border-box-sizing">
    <div class="container" id="notebook-container">

<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1>Dependencies<a class="anchor-link" href="#200322---Dependencies-for-Intro-to-working-with-CZI-files-for-image-analysis"></a></h1><p>Before we get into image analysis we will have to go through the hellish process of installing shit. I personally hate this the most because all of this work is riddled with the anxiety that it is all for nothing because the program might not be right for what I am doing anyway. Here at least you can rest assured that all of this crap will definitely be useful for you in the future. There are only a few things that are even image analysis related (at the end) so nearly everything I talk about here will be useful for you at some point if you ever plan on using python.</p>
<p>Another common fear I have when installing shit is that it might take up crazy amounts of space on my computer. Fear not! I don't have much room on my computer but I was able to install all of these things (and many more) with relatively little space bloating. Anaconda <em>is</em> 3Gb but it comes with so many other things that I use that it makes it worth it for me. And you probably won't have to install a bunch of other stuff too. But if you just want to dip your toes in the water you can try with miniconda.. or just uninstall anaconda when you are done.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Dependencies">Dependencies<a class="anchor-link" href="#Dependencies"></a>
</h1>
<p>
<img alt="Qries" src="https://revolution-computing.typepad.com/.a/6a010534b1db25970b01bb0794c2fc970d-pi" width=600" ></p>

<p><strong>General note:</strong> Everyone is going to go on their own journey with installs. Follow the directions for the specific packages. I am not super great at installs and find them super frustrating and time consuming. Marc and Ciera are really good at them and each have helped me through it, usually with us googling whatever the error was. I feel like every computer has weird permissions and shit that you have to figure out individually. If you plan on following along (which I would def recommend for max learning) try to get conda, jupyter, and the relevant packages installed before Tuesday! If you are planning on doing any sort of coding in python it's worth it.</p>
<ul>
<li><p><a href="https://docs.conda.io/projects/continuumio-conda/en/latest/user-guide/install/macos.html">python 3 via conda</a></p>
<ul>
<li><p>I made a specific environment for image analysis. to do this I used conda environment manager.</p>
</li>
<li><p><strong>Why should I use conda?</strong></p>
<ul>
<li>conda is good to start using because it means you can have several "versions" of packages and python installs at any given time. This means that if I need to  use an old version of Numpy for this one package (which happens constantly with poorly maintained scientific packages) I can make a new environment where I do that and it won't break all of my other stuff.</li>
<li>Also means that if you still do stuff in python 2 you can make a python 3 environment where you do this tutorial and image analysis without breaking any preexisting stuff you already have going....it's very useful and definitely worth getting up and running. I don't know how I would do any analysis without it.</li>
</ul>
</li>
<li><p><strong>Anaconda vs miniconda</strong></p>
<ul>
<li>Miniconda is just the environment manager and maybe python? It doesn't come with any other packages installed. I didn't install miniconda (I did anaconda) so I have no idea what those packages will be and it might result in <a href="https://www.google.com/search?q=dependency+hell&amp;source=lmns&amp;hl=en&amp;ved=2ahUKEwjZq9bB8K7oAhVrh54KHScyCgsQ_AUoAHoECAEQAA">dependency hell</a>. if you don't want to install a lot of packages but you might have to install more individually as you go or anaconda if you have space and are not about installing shit (Me)</li>
<li>Anaconda has jupyter already installed so you won't have to worry about that. </li>
<li><p>Choose Anaconda if you:</p>
<ul>
<li>Are new to conda or Python</li>
<li>Like the convenience of having Python and over 150 scientific packages automatically installed at once</li>
<li>Have the time and disk space (a few minutes and 3 GB), and/or</li>
<li>Donâ€™t want to install each of the packages you want to use individually.</li>
</ul>
</li>
<li><p>Choose Miniconda if you:</p>
<ul>
<li>Do not mind installing each of the packages you want to use individually.</li>
<li>Do not have time or disk space to install over 150 packages at once (~3Gb I think?), and/or</li>
<li>Just want fast access to Python and the conda commands, and wish to sort out the other programs later</li>
</ul>
</li>
<li><a href="https://docs.conda.io/projects/continuumio-conda/en/latest/user-guide/install/download.html#anaconda-or-miniconda">More info</a></li>
</ul>
</li>
<li><strong>Working with Conda</strong><ul>
<li>Once you have conda up and running play around with setting up new environments and installing packages. All the commands are through the terminal. </li>
<li><a href="https://docs.conda.io/projects/conda/en/4.6.0/_downloads/52a95608c49671267e40c689e0bc00ca/conda-cheatsheet.pdf">Conda command cheat sheet</a></li>
<li>Tip: Always try to install new packages through conda first before using PIP (if you did miniconda you might have to download or update pip). Conda will always put that install in the right directory for the environment you are in - PIP does not .. sometimes it puts it in your root python bin which (at least for me) was not related to my conda bins and it was very frustrating. </li>
</ul>
</li>
</ul>
</li>
<li><p><a href="https://jupyter.org/">Jupyter</a></p>
<ul>
<li>if you installed Anaconda - GOOD JOB YOU'RE DONE!! Launch jupyter notebook by typing- jupyter notebook - into the terminal and BAM you got a jupyter notebook! </li>
<li>if you installed miniconda I think all you have to do is : conda install jupyter</li>
<li>you can install with PIP which I have done before.. I then had to uninstall it later because it wasn't syncing with any of my environments and I wasted a whole day uninstalling and reinstalling python .. not fun...</li>
<li>(more info)[<a href="https://jupyter.readthedocs.io/en/latest/install.html">https://jupyter.readthedocs.io/en/latest/install.html</a>]</li>
</ul>
</li>
<li><p>Test it out!</p>
<ul>
<li><p>once you have installed conda + Jupyter all you need to do is:</p>
<ol>
<li><p>Open terminal</p>
</li>
<li><p>Type 'source activate <em>nameofyourenvironmenthere</em>'</p>
</li>
<li><p>go to whatever directory you want your notebooks to be stored in</p>
</li>
<li><p>type 'jupyter notebook' to open up a directory in your browser where you can launch a new notebook by clicking new or you can type 'jupyter notebook <em>pathtonotebook</em></p>
</li>
</ol>
<p><strong> you can also open notebooks in visual studio code now which I have started doing when I just need to check one quickly</strong></p>
</li>
</ul>
</li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Czi-file/-Image-analysis-specific-dependencies--">Czi file/ Image analysis specific dependencies -<a class="anchor-link" href="#Czi-file/-Image-analysis-specific-dependencies--">&#182;</a></h2><ul>
<li>You need the <a href="https://pypi.org/project/czifile/">Czifile python package</a> to import CZI files into python. <ul>
<li>welcome to dependecy hell. In order to install this package you need the following:<ul>
<li>CPython 2.7 or 3.5+ </li>
<li>Numpy 1.14</li>
<li>Tifffile 2019.7.2</li>
<li>Imagecodecs 2019.5.22 (optional; used for decoding LZW, JPEG, and JPEG XR) &lt;-- i never did this one.. I get an annoying warning every time that I just ignore</li>
<li>I think I needed to install or update xcode for some of them..</li>
</ul>
</li>
<li>install as many as possible with conda but I think the final Czifile install will be with pip. Getting pip to play nice with conda is challenging but try it out! to test to see if it worked launch python in the terminal by just typing python then type 'import czifile'<ul>
<li>Directions from Ciera<ul>
<li><code>pip install imagecodecs==2018.10.28</code></li>
<li>Download package <a href="https://pypi.org/project/czifile/#files">czifile.py</a></li>
<li>Then pip install on zipped package: `pip install ~/Downloads/czifile-2018.10.18.tar.gz</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="other-packages-that-are-useful-to-have">other packages that are useful to have<a class="anchor-link" href="#other-packages-that-are-useful-to-have"></a></h1><p><strong> Disclaimer</strong> many of these packages come with anaconda and so I have never used the links I provided to install it. I just put those there for reference. Don't @ me bro.</p>

<p>Many of these packages will already be installed with anaconda. Check to see if you have them by going into your python 3 conda environment (source activate *condaenvname*) typing in python, and then import *packageName*
- before installing make sure you are in the right conda environment </p>
<ul>
<li><strong>scipy's ndimage package for multi dimensional image processing</strong><ul>
<li>i don't know if this comes pre-downloaded with anaconda but if you don't have it install it with conda </li>
<li>if not : conda install -c anaconda scipy <a href="https://anaconda.org/anaconda/scipy">source page</a></li>
</ul>
</li>
<li><strong><a href="https://scikit-image.org/">sci-kit image or skimage</a> for image processing in python</strong><ul>
<li>conda install -c conda-forge scikit-image <a href="https://scikit-image.org/docs/dev/install.html">source page</a></li>
</ul>
</li>
<li><strong>matplotlib</strong> - making graphs and stuff. I hate it but also that is how you output images in jupyter notebooks which is very essential to seeing what you are doing. <ul>
<li>comes with anaconda</li>
<li>should have already been installed with jupyter?</li>
<li>more info - <a href="https://anaconda.org/conda-forge/matplotlib">https://anaconda.org/conda-forge/matplotlib</a></li>
</ul>
</li>
</ul>
<p><strong> I use the following a lot but they are probably already installed with python</strong></p>
<ul>
<li>xml.etree - I think this comes with python too. </li>
<li>os - allows to interact with the operating system. This is probably included in the conda install</li>
<li>math - also to perform basic math functions. probably included something you installed already </li>
</ul>


</body>
</html>

        </p>
    </div>
    

    <div class="page-footer">
        
        <hr class="footer-divider">
        
            <a class="tag" href="/tags/czi">#czi</a>
        
            <a class="tag" href="/tags/image-analysis">#image analysis</a>
        
            <a class="tag" href="/tags/tutorial">#tutorial&#34;</a>
        
            <a class="tag" href="/tags/jenna">#jenna</a>
        
      
    </div>


        

<link rel="stylesheet" type="text/css" href="/coding_site/css/katex.min.css">
<script type="text/javascript" src="/coding_site/js/katex.min.js"></script>
<script type="text/javascript" src="/coding_site/js/auto-render.min.js"onload="renderMathInElement(document.body);"></script>

        </div>
        <footer class="footer-mobile">
	<div class="social-icons">
        

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
    
    
    <a class="social-icon" href="https://github.com/meisenlab" target="_blank" rel="noopener" title="GitHub">
        <svg width="28px" height="28px" viewBox="0 0 28 28" version="1.1" fill="#ABABAB" xmlns="https://www.w3.org/2000/svg" xmlns:xlink="https://www.w3.org/1999/xlink">
            <path d="M13.9988029,1.32087331 C6.82105037,1.32087331 1,7.14112562 1,14.3212723 C1,20.0649109 4.72454649,24.9370678 9.89038951,26.6560892 C10.5408085,26.7757983 10.7778323,26.374374 10.7778323,26.0296121 C10.7778323,25.7215609 10.7666595,24.9035493 10.760275,23.8189856 C7.14426471,24.6042767 6.38131925,22.0760223 6.38131925,22.0760223 C5.78995672,20.5740732 4.93762853,20.1742451 4.93762853,20.1742451 C3.75729765,19.3682044 5.02701126,19.3841656 5.02701126,19.3841656 C6.33183953,19.4759425 7.01817121,20.7241085 7.01817121,20.7241085 C8.17775254,22.7104801 10.0611744,22.1366749 10.8017741,21.8038838 C10.919887,20.9643246 11.2558703,20.3913175 11.6269683,20.066507 C8.74038491,19.7385043 5.70536235,18.6228163 5.70536235,13.6413251 C5.70536235,12.2223743 6.21213051,11.0611968 7.04370914,10.1530044 C6.90963504,9.82420367 6.46351945,8.50181809 7.17139875,6.71256734 C7.17139875,6.71256734 8.26234691,6.36301702 10.7459099,8.04532771 C11.78259,7.75642995 12.8950858,7.61277914 14.000399,7.60719272 C15.1049142,7.61277914 16.2166119,7.75642995 17.2548881,8.04532771 C19.736855,6.36301702 20.8262071,6.71256734 20.8262071,6.71256734 C21.5356825,8.50181809 21.0895669,9.82420367 20.9562909,10.1530044 C21.7894656,11.0611968 22.2922435,12.2223743 22.2922435,13.6413251 C22.2922435,18.6355852 19.2524325,19.734514 16.3570705,20.0561322 C16.8231376,20.4575564 17.2389269,21.2508282 17.2389269,22.4638795 C17.2389269,24.2012564 17.2229657,25.603448 17.2229657,26.0296121 C17.2229657,26.3775663 17.4575954,26.7821827 18.116793,26.6552912 C23.2786458,24.9322794 27,20.0633148 27,14.3212723 C27,7.14112562 21.1789496,1.32087331 13.9988029,1.32087331"></path>
        </svg>
    </a>
    

    
    
    

    

    

    

    

</div>




	<div class="footer-mobile-links">
		<p><a href="https://github.com/kimcc/hugo-theme-noteworthy" target="_blank" rel="noopener">Noteworthy theme</a></p>
		<span class="divider-bar">|</span>
		<p><a href="https://gohugo.io" target="_blank" rel="noopener">Built with Hugo</a></p>
	</div>

	<script src="https://meisenlab.github.io/coding_site/js/main.min.fa5c2b23e07b5d9bfad267a52b4b24fdb053e6fb7524993383594926a3ac270c.js" integrity="sha256-+lwrI+B7XZv60melK0sk/bBT5vt1JJkzg1lJJqOsJww="></script>
</footer>
    </body>
</html>